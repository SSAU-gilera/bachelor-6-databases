# Проектирование баз данных

#### Попова-Коварцева Дарья Александровна

3 курс 2 полугодие (6 семестр)

### Варианты

| Лабораторная работа | Вариант |
| :------------------ | :------ |
| 1-6                 | 12      |

# Лабораторные работы

> Если в папке лабораторной работы нет файлов программы или появляются ошибки при запуске, вы всегда можете найти код в конце отчёта.

## Лабораторная работа 1

Логическое проектирование базы данных.

**Задание**

1. Выберите логический уровень представления модели данных.
2. Выделите необходимые сущности согласно предметной области своего варианта.
3. Определите необходимые атрибуты сущностей. Задайте необходимые ограничения целостности данных. Задайте необходимые связи между сущностями.
4. Проанализируйте какие функциональные зависимости имеются в созданных отношениях.
5. Примените шаги по нормализации схем созданных отношений БД.
6. С помощью Case-средства создайте логическую модель базы данных в соответствии с вариантом задания.

## Лабораторная работа 2

Создание таблиц и ограничений целостности. Использование команд SQL для работы с данными, хранящимися в таблицах.

**Задание**

1. Выберите необходимую СУБД, для которой нужно создать схему данных.
2. Внесите необходимые изменения в имена таблиц, полей, связей и их свойства.
3. Проверьте и внесите необходимые изменения в типы данных полей.
4. Проверьте и внесите необходимые изменения в ограничения целостности данных.
5. Сгенерируйте DDL-скрипт для создания схемы данных в выбранной СУБД.
6. Внесите необходимые изменения в созданный DDL-скрипт.
7. Выполните DDL-скрипт и заполните созданные таблицы данными командой SQL Insert (минимум 10 записей на таблицу).
8. Создайте необходимые SQL запросы, выполняющие основные требования к функциям системы.
9. Обдумайте и создайте запросы, которые, возможно, будут полезными для будущих пользователей вашей базы данных.
10. Приведите примеры запросов с выборкой, сортировкой, группировкой, левым, правым и внешним объединением.

## Лабораторная работа 3

Создание и использование хранимых процедур и функций.

**Задание**

1. Создайте хранимые процедуры:

- без параметров, с использованием агрегатных функций;
- с входным параметром/параметрами;
- с входными и выходными параметрами.

2. Создайте хранимые процедуры для добавления и изменения записей в таблицах, проверяющих существование редактируемой записи и определяющие значение суррогатного первичного ключа по умолчанию для новых записей.
3. Внесите такие изменения в хранимые процедуры добавления и изменения записей в таблицах, которые не позволят добавить или изменить записи с дублирующими названиями.
4. Создайте хранимые процедуры удаления записей из таблиц, удаляющих связанные записи из дочерних таблиц.
5. Проверьте работоспособность всех созданных хранимых процедур.
6. Создайте функцию:

- возвращающую скалярное значение (тип функции Scalar);
- возвращающую набор данных Table (тип функции Inline);
- многооператорную функцию, возвращающую таблицу (тип функции Multi-statement).

7. Проверьте работоспособность всех созданных функций.

## Лабораторная работа 4

Создание и использование триггеров и курсоров.

**Задание**

1. Создайте триггер:

- запрещающий вставку в таблицу новой строки с заданным параметром;
- запрещающий изменение заданного поля.

2. Внесите изменения в ранее созданный триггер.
3. Создайте необходимые последовательности для суррогатных первичных ключей.
4. Создайте триггеры вставки и изменения записей таблиц, определяющие значение суррогатного первичного ключа по умолчанию.
5. Создайте триггер ведения аудита изменения записей в таблицах.
6. Внесите такие изменения в триггеры вставки и изменения записей таблиц, которые не позволят добавить или изменить записи с дублирующими названиями.
7. Создайте триггеры для не обновляемых представлений, позволяющие изменять данные.
8. Создайте курсор для вывода записей из таблицы, удовлетворяющих заданному условию.
9. Создайте курсор, используемый как выходной параметр процедуры.

## Лабораторная работа 5

Разработка системы защиты информации на основе привилегий.

**Задание**

1. Создайте нового пользователя и предоставьте ему привилегии на выборку информации из созданных вами представлений и запуска процедур.
2. Соединитесь с СУБД от имени нового пользователя и проверьте возможность доступа к вашим данным через представления и запуск процедур.
3. Проверьте невозможность доступа к вашим данным через таблицы и хранимые процедуры.
4. Соединитесь с СУБД от своего имени и предоставьте новому пользователю привилегии на выборку, вставку, изменение и удаление данных из ваших таблиц.
5. Соединитесь с СУБД от имени нового пользователя и проверьте возможность изменения данных в созданных вами таблицах.
6. Соединитесь с СУБД от своего имени и отберите у нового пользователя все предоставленные ему привилегии.
7. Соединитесь с СУБД от имени нового пользователя и проверьте невозможность изменения данных в созданных Вами таблицах и запуск ваших хранимых процедур.

## Лабораторная работа 6

Разработка интерфейса пользователя для работы с данными в БД. Создание форм.

**Задание**

1. Создайте необходимые формы для ввода информации в базу данных (созданной на предыдущих лабораторных работах), согласно предметной области своего варианта.
2. Проверьте работу форм (введите, измените и удалите около 10 записей в каждой форме).
3. Проверьте правильность работы обеспечения целостности данных.
4. Обдумайте и создайте формы, которые, возможно, будут полезными для будущих пользователей вашей БД.
